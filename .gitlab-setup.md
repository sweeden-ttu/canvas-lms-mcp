# GitLab Repository Setup

## Current Status

The repository is configured to push to both GitHub and GitLab, but the GitLab repository needs to be created first.

## Remote Configuration

After GitLab repository is created, configure dual push:

```bash
# Add GitLab remote
git remote add gitlab git@gitlab.com:sweeden-ttu/canvas-lms-mcp.git

# Configure multi-push to both GitHub and GitLab
git remote set-url --add --push origin git@github.com:sweeden-ttu/canvas-lms-mcp.git
git remote set-url --add --push origin git@gitlab.com:sweeden-ttu/canvas-lms-mcp.git

# Verify configuration
git remote -v
# Should show:
# origin  git@github.com:sweeden-ttu/canvas-lms-mcp.git (fetch)
# origin  git@github.com:sweeden-ttu/canvas-lms-mcp.git (push)
# origin  git@gitlab.com:sweeden-ttu/canvas-lms-mcp.git (push)
# gitlab  git@gitlab.com:sweeden-ttu/canvas-lms-mcp.git (fetch)
# gitlab  git@gitlab.com:sweeden-ttu/canvas-lms-mcp.git (push)
```

## Creating GitLab Repository

### Option 1: Via GitLab Web Interface

1. Go to https://gitlab.com
2. Sign in as `sweeden-ttu` or `scott-weeden`
3. Click "New project" â†’ "Create blank project"
4. Project name: `canvas-lms-mcp`
5. Project slug: `canvas-lms-mcp`
6. Visibility: Choose appropriate level (Private/Internal/Public)
7. Click "Create project"

### Option 2: Via GitLab API (if token available)

```bash
# Requires GITLAB_TOKEN environment variable
curl --request POST \
  --header "PRIVATE-TOKEN: $GITLAB_TOKEN" \
  --header "Content-Type: application/json" \
  --data '{
    "name": "canvas-lms-mcp",
    "path": "canvas-lms-mcp",
    "visibility": "private"
  }' \
  https://gitlab.com/api/v4/projects
```

**Note**: Per authentication rules, GitLab tokens are prohibited. Use SSH keys instead.

### Option 3: Via GitLab CLI (if installed)

```bash
glab repo create canvas-lms-mcp --private --clone=false
```

## After Repository Creation

Once the GitLab repository exists:

```bash
# Push to GitLab
git push gitlab features/software-vv

# Or push to both simultaneously (using multi-push origin)
git push origin features/software-vv
```

## Dual Repository Sync

The repository is configured to push to both GitHub and GitLab when using:

```bash
git push origin <branch>
```

This will push to both:
- `git@github.com:sweeden-ttu/canvas-lms-mcp.git`
- `git@gitlab.com:sweeden-ttu/canvas-lms-mcp.git`

## Verification

After creating the GitLab repository, verify SSH access:

```bash
ssh -T git@gitlab.com
# Should show: Welcome to GitLab, @scott-weeden!
```

Then test push:

```bash
git push gitlab features/software-vv
```